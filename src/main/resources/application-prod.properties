# Konfigirasyon Pò
server.port=${PORT:8080}

# Konfigirasyon Database
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://shinkansen.proxy.rlwy.net:53264/database_padf?sslmode=require}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:postgres}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:LOxSxtZTHciQdGLpPgKKflQfmNlXVFRh}
spring.datasource.driver-class-name=org.postgresql.Driver

# Konfigirasyon Hibernate
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true

# CORS - Met domèn frontend ou an isit
cors.allowed.origins=${CORS_ALLOWED_ORIGINS:https://testn.up.railway.app,http://localhost:4200,https://padf.algoleaders.com,https://padf.up.railway.app,https://healthcheck.railway.app}

# HikariCP Configuration
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=30000
spring.datasource.hikari.max-lifetime=2000000
spring.datasource.hikari.leak-detection-threshold=5000

# Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
management.endpoint.health.show-components=always

management.health.db.enabled=true
management.health.defaults.enabled=true

# Actuator Health Check Endpoints
management.endpoint.health.group.custom.include=db,diskSpace,ping
management.endpoint.health.probes.enabled=true
management.health.status.http-mapping.down=503
management.health.status.http-mapping.out-of-service=503

# Konfigirasyon pou health check
management.endpoint.health.probes.enabled=true
management.health.livenessstate.enabled=true
management.health.readinessstate.enabled=true

# Konfigirasyon pou JPA
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# Konfigirasyon pou HTTP/2
server.http2.enabled=true

# Konfigirasyon pou compression
server.compression.enabled=true
server.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json,application/xml
server.compression.min-response-size=2KB

# Server SSL (if needed)
# server.ssl.enabled=true
# server.ssl.key-store-type=PKCS12
# server.ssl.key-store=classpath:keystore.p12
# server.ssl.key-store-password=yourpassword
